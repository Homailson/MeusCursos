<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <nav class="sidebar">

        <img class="sidebar_image" src="homailson_foto.png" alt="foto_homailson">

        <p class="nome">Homailson</p>
        <p class="trabalho">Aberto a trabalho</p>

        <button class="menu-toggle" onclick="toggleMenu()">☰ Menu</button>
        <ul class="sidebar__list">
            <li><a class="sidebar__item" href="#home-section" onclick="closeMenu()">Home</a></li>
            <li><a class="sidebar__item" href="#about-section" onclick="closeMenu()">Sobre mim</a></li>
            <li><a class="sidebar__item" href="#portfolio-section" onclick="closeMenu()">Portifólio</a></li>
            <li><a class="sidebar__item" href="#blog-section" onclick="closeMenu()">Blog</a></li>
            <li><a class="sidebar__item" href="#contact-section" onclick="closeMenu()">Contato</a></li>
        </ul>
    </nav>

    <main>
        <section class="secao1" id="home-section">
            <img class="secao1__image" src="fotoHomailsonsecao1.png" alt="HomailsonFoto">
            <img class="secao1__backgroung" src="bg.jpg" alt="backgroung">
            <div class="secao1__texto">
                <p class="secao1__nome">Homailson Lopes</p>
                <p id="linha-efeito"><span id="word"></span></p>
            </div>
        </section>       

        <section class="secao2" id="about-section">
            <!-- <p>Conteudo da secao 2</p> -->
        </section>

        <section id="portfolio-section">
            <p>Conteudo da secao 3</p>
        </section>

        <section id="blog-section">
            <p>Conteudo da secao 4</p>
        </section>

        <section id="contact-section">
            <p>Conteudo da secao 5</p>
        </section>
    </main>

    <script type="text/javascript">
        function toggleMenu() {
            var sidebarList = document.querySelector('.sidebar__list');
            sidebarList.classList.toggle('show-menu');
        }

        function closeMenu() {
            var sidebarList = document.querySelector('.sidebar__list');
            sidebarList.classList.remove('show-menu');
        }

        window.addEventListener('resize', function () {
            var sidebarList = document.querySelector('.sidebar__list');
            if (window.innerWidth > 992) {
                sidebarList.classList.remove('show-menu');
            }


            var currentSection = getCurrentSection();
            if (currentSection) {
                currentSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });

        function getCurrentSection() {
            var sections = document.querySelectorAll('section');
            var closestSection = null;
            var closestDistance = Infinity;

            sections.forEach(function (section) {
                var rect = section.getBoundingClientRect();
                var distance = Math.abs(rect.top);

                if (distance < closestDistance) {
                    closestDistance = distance;
                    closestSection = section;
                }
            });

            return closestSection;
        }

        const words = ["Estudante de Ciências de Dados", "Professor de Matemática"];
        let i = 0;
        let timer;

        function typingEffect() {
            let word = words[i].split("");
            var loopTyping = function () {
                if (word.length > 0) {
                    document.getElementById('word').innerHTML += word.shift();
                } else {
                    deletingEffect();
                    return false;
                }
                timer = setTimeout(loopTyping, 150);
            };
            loopTyping();
        }

        function deletingEffect() {
            let word = words[i].split("");
            var loopDeleting = function () {
                if (word.length > 0) {
                    word.pop();
                    document.getElementById('word').innerHTML = word.join("");
                } else {
                    if (words.length > (i + 1)) {
                        i++;
                    } else {
                        i = 0;
                    }
                    typingEffect();
                    return false;
                }
                timer = setTimeout(loopDeleting, 50);
            };
            loopDeleting();
        }

        typingEffect();



    </script>

</body>

</html>